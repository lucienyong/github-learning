**这个实验需要两个账号**
1. 将接收方的本地仓库更新至最新状态
首先，将 Pull Request 接收方的仓库 clone 到本地开发环境中。如果已经 clone 过，那么请进行 pull 等操作更新至最新状态。
```
$ git clone git@github.com:ituring/first-pr.git
Cloning into 'first-pr'...
remote: Counting objects: 34, done.
remote: Compressing objects: 100% (26/26), done.
remote: Total 34 (delta 10), reused 15 (delta 4)
Receiving objects: 100% (34/34), 89.48 KiB | 112 KiB/s, done.
Resolving deltas: 100% (10/10), done.
$ cd first-pr
```
2. 获取发送方的远程仓库
将 Pull Request 发送方的仓库设置为本地仓库的远程仓库，获取发送方仓库的数据。
```
$ git remote add PR发送者 git@github.com:PR发送者/first-pr.git
$ git fetch PR发送者
省略
From github.com:PR发送者/first-pr
* [new branch] gh-pages -> PR发送者/gh-pages
* [new branch] master -> PR发送者/master
* [new branch] work -> PR发送者/work
```
现在我们获取了 Pull Request 发送方仓库以及分支的数据（PR 发送者 \/work）。
3. 创建用于检查的分支
前面我们只获取了远程仓库的数据，这些数据尚未反映在任何一个分支中。因此我们需要创建一个分支，用来模拟采纳 Pull Request 后的状态。由于这是我们第一个 Pull Request，分支名就叫 pr1。如下图：
![checkout](./checkout.png)
```
$ git checkout -b pr1
Switched to a new branch 'pr1'
```
4. 合并
下面要将已经 fetch 完毕的“PR 发送者 \/work”的修改内容与 pr1分支进行合并。
```
$ git merge PR发送者/work
Updating cc62779..243f28d
Fast-forward
index.html | 2 ++
1 file changed, 2 insertions(+)
```
这样一来， pr1 分支中就加入了“PR 发送者 \/work”分支的修改内容。本示例中我们只修改了 index.html 文件，所以检查一下 index.html有没有显示错误即可。在实际开发中，各位需要通过自动测试等手段检查软件是否能正常运行。
5. 删除分支
检查结束后 pr1 分支就没用了，可以直接删除。我们切换至 pr1 之外的分支，运行下面的代码。
```
$ git branch -D pr1
Deleted branch pr1 (was 243f28d).
```
6. 采纳 Pull Request
完成上述内容后，如果 Pull Request 的内容没有问题，大可打开浏览器找出相应的 Pull Request 页面，点击 Merge pull request 按钮，随后Pull Request 的内容会自动合并至仓库(如下图)。
![自动合并的概念图](./自动合并的概念图.png)
不过，由于我们已经在本地构筑了相同的环境，只要通过 CLI 进行合并操作再 push 至 GitHub， Pull Request 中就会反映出 Pull Request 被采纳后的状态（如下图）。这个状态对应到本示例中就是“PR 发送者 \/work”分支合并到 gh-pages 分支。
![手动合并的概念图](./手动合并的概念图.png)
- 合并到主分支
首先，我们切换至 gh-pages 分支。
```
$ git checkout gh-pages
Switched to branch 'gh-pages'
```
然后合并“PR 发送者 \/work”分支的内容。
```
$ git merge PR送信者/work
Updating cc62779..243f28d
Fast-forward
index.html | 2 ++
1 file changed, 2 insertions(+)
```
这样一来“PR 发送者 \/work”分支就合并到了 gh-pages 分支中。
- push 修改内容
现在只剩下 push 一步了，不过为保险起见，我们先查看本地与GitHub 端仓库内代码的差别。
```
$ git diff origin/gh-pages
diff --git a/index.html b/index.html
index f2034b3..91b8ecb 100644
--- a/index.html
+++ b/index.html
@@ -39,6 +39,8 @@
<p>请写明这是对本书的实践或描述对本书的感想并发送Pull Request。 </p>
+<p class="impression">这本书读着很有趣。（@HIROCASTER）</p>
+
省略
```
确认没有目的之外的差别后，进行 push。
```
$ git push
省略
Total 0 (delta 0), reused 0 (delta 0)
To git@github.com:ituring/first-pr.git
cc62779..243f28d local_gh-pages -> gh-pages
```
用这种方法处理后，仓库的 Pull Request 会自动从 Open 状态变为Close 状态。现在我们可以去查看网页，已采纳的源代码应该已经反映出来了。
